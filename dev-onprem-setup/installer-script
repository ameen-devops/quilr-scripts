all images download 
make tar of it
see the size reduction
delete the images from local
import all the images and see sizes of it

persistent data creation/ quilr-data directory creation and subfolders inside it creation
make tar of all the helm charts after pulling the helm charts with custom values.yaml inside them
echo everything throughout the script to see what changes have been done

also make the secrets creation in the script at the last

before the mkdir commands make sure quilradmin user is created / check the confluence page and make sure it has all the rights

chart version and redis version - redis-20.11.5 and  7.4.2
-----------------------------------------------------------------------------------------------------
KUBECTL CREATE NS QUILR -------> SHOULD COME AS THE TOP MOST THING AFTER THE KUBEADM INSTALLATION
-----------------------------------------------------------------------------------------------------
sudo mkdir -p /home/quilradmin/quilr-data/redis/master
sudo mkdir -p /home/quilradmin/quilr-data/redis/replica
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/redis/master
sudo chmod -R 775 /home/quilradmin/quilr-data/redis/master
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/redis/replica
sudo chmod -R 775 /home/quilradmin/quilr-data/redis/replica

sudo mkdir -p redis
cp ~/redis-pv.yaml ~/redis
cp ~/redis-values.yaml ~/redis
./ redis-bundle.sh

creates image.tar and tgz.gz of helm charts
 ./install-redis.sh
>>> Extracting bundle...and importing redis image, applying pv and pvs and helm install at last

sudo mkdir -p /home/quilradmin/quilr-data/elasticsearch
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/elasticsearch
sudo chmod -R 775 /home/quilradmin/quilr-data/elasticsearch
sudo mkdir -p elasticsearch

cp ~/elasticsearh-pv.yaml ~/elasticsearch
cp ~/elasticsearch-values.yaml ~/elasticsearch
./elasticsearch-bundle.sh

creates image.tar and tgz.gz of helm charts
 ./install-elasticsearch.sh
>>> Extracting bundle...and importing elasticsearch image, applying pv and pvs and helm install at last


for all the mkdir commands make in script such that it shows everything verbosely

chart version and elasticsearch version -  elasticsearch-21.5.0  and 8.17.4
--------------------------------------------
elastic-search image compression
--------------------------------------------
quilradmin@ip-10-71-12-87:~$ sudo crictl images | grep -i elastic
WARN[0000] Config "/etc/crictl.yaml" does not exist, trying next: "/usr/bin/crictl.yaml"
WARN[0000] Image connect using default endpoints: [unix:///run/containerd/containerd.sock unix:///run/crio/crio.sock unix:///var/run/cri-dockerd.sock]. As the default settings are now deprecated, you should set the endpoint instead.
docker.io/bitnami/elasticsearch            8.17.4-debian-12-r0   94f392890b6ff       757MB
quilradmin@ip-10-71-12-87:~$ sudo crictl images | grep -i os-shell
WARN[0000] Config "/etc/crictl.yaml" does not exist, trying next: "/usr/bin/crictl.yaml"
WARN[0000] Image connect using default endpoints: [unix:///run/containerd/containerd.sock unix:///run/crio/crio.sock unix:///var/run/cri-dockerd.sock]. As the default settings are now deprecated, you should set the endpoint instead.
docker.io/bitnami/os-shell                 12-debian-12-r40      eac44b6234277       56.7MB
quilradmin@ip-10-71-12-87:~$ ls
elasticsearch            elasticsearch-bundle.tar.gz  neo4j-prev  quilr-tp  redis-bundle     redis-bundle.tar.gz  vault-bundle.tar
elasticsearch-bundle.sh  install-redis.sh             quilr-data  redis     redis-bundle.sh  snap
quilradmin@ip-10-71-12-87:~$ ls -lhd elasticsearch-bundle.tar.gz
-rw-rw-r-- 1 quilradmin quilradmin 773M Sep 16 13:04 elasticsearch-bundle.tar.gz
quilradmin@ip-10-71-12-87:~$
--------------------------------------------
redis image compression
--------------------------------------------
quilradmin@ip-10-71-12-87:~$ sudo crictl images | grep -i redis
WARN[0000] Config "/etc/crictl.yaml" does not exist, trying next: "/usr/bin/crictl.yaml"
WARN[0000] Image connect using default endpoints: [unix:///run/containerd/containerd.sock unix:///run/crio/crio.sock unix:///var/run/cri-dockerd.sock]. As the default settings are now deprecated, you should set the endpoint instead.
docker.io/bitnami/redis                    7.4.2-debian-12-r6    f7f358889b530       51.2MB
quilradmin@ip-10-71-12-87:~$ ls -lhd redis-bundle.tar.gz
-rw-rw-r-- 1 quilradmin quilradmin 49M Sep 16 11:27 redis-bundle.tar.gz
quilradmin@ip-10-71-12-87:~$

FIRST CREATION QUILR-DATA DIRECTORIES AND APPLY PERMISSION
CREATE THE INDEPENDENT DIRECTORIES AND COPIES PV YAML AND VALUES YAML

INSTALL SCRIPTS ALONG WITH BUNDLES NEED TO BE MOVED TO THE AIRGAPPED ENVIRONMENT ----------> IMP HIGHLIGHT
MAKE THAT SCRIPTS EXECUTABLE with chmod +x
IN THE MAIN SCRIPT ---> MAKE SURE EVERY POD HAS A RUNNING STATUS BY SOME CHECK FOR ALL THIRD PARTY COMPONENTS 

sudo mkdir -p /home/quilradmin/quilr-data/postgresql
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/postgresql
sudo chmod -R 775 /home/quilradmin/quilr-data/postgresql
sudo mkdir -p postgresql
sudo chown -R quilradmin:quilradmin ~/postgresql

for all these folders make sure quilradmin has the rights

cp ~/postgresql-pv.yaml ~/postgresql
cp ~/postgresql-values.yaml ~/postgresql
./postgresql-bundle.sh

creates image.tar and tgz.gz of helm charts
 ./install-postgresql.sh
>>> Extracting bundle...and creating the init scripts and importing elasticsearch image, applying pv and pvs and helm install at last

quilradmin@ip-10-71-12-87:~$ sudo crictl images | grep -i postgres
WARN[0000] Config "/etc/crictl.yaml" does not exist, trying next: "/usr/bin/crictl.yaml"
WARN[0000] Image connect using default endpoints: [unix:///run/containerd/containerd.sock unix:///run/crio/crio.sock unix:///var/run/cri-dockerd.sock]. As the default settings are now deprecated, you should set the endpoint instead.
docker.io/bitnami/postgresql               17.6.0-debian-12-r4   c5041d46d3b05       112MB
quilradmin@ip-10-71-12-87:~$ ls -lhd postgresql-bundle.tar.gz
-rw-rw-r-- 1 quilradmin quilradmin 106M Sep 17 05:33 postgresql-bundle.tar.gz
quilradmin@ip-10-71-12-87:~$

sudo mkdir -p /home/quilradmin/quilr-data/kafka/
sudo mkdir -p /home/quilradmin/quilr-data/zookeeper/
sudo chmod -R 755 /home/quilradmin/quilr-data/kafka
sudo chmod -R 755 /home/quilradmin/quilr-data/zookeeper
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/kafka
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/zookeeper
sudo mkdir -p ~/kafka
sudo mkdir -p ~/zookeeper
sudo chown -R quilradmin:quilradmin ~/zookeeper
sudo chown -R quilradmin:quilradmin ~/kafka

------INSTEAD OF SEPERATE DIRECTORIES WE ARE ADDING KAFKA ZOOKEEPER KAFKA-UI IN THE SAME DIRECTORY ---------

sudo mkdir -p /home/quilradmin/quilr-data/kafka-zookeeper/
sudo chmod -R 755 /home/quilradmin/quilr-data/kafka-zookeeper
sudo chown -R 1001:1001 /home/quilradmin/quilr-data/kafka-zookeeper
sudo mkdir -p ~/kafka-zookeeper
sudo chown -R quilradmin:quilradmin ~/kafka-zookeeper

cp ~/zookeeper.yaml ~/zookeeper
./zookeeper-bundle.sh

creates image.tar and tgz.gz of helm charts
 ./install-zookeeper.sh
>>> Extracting bundle...and importing zookeeper image, applying the yaml

cp ~/kafka.yaml ~/kafka
./kafka-bundle.sh

creates image.tar and tgz.gz of helm charts
 ./install-kafka.sh
>>> Extracting bundle...and importing kafka image, applying the yaml

quilradmin@ip-10-71-12-87:~$ sudo crictl images | grep -i zookeeper
WARN[0000] Config "/etc/crictl.yaml" does not exist, trying next: "/usr/bin/crictl.yaml"
WARN[0000] Image connect using default endpoints: [unix:///run/containerd/containerd.sock unix:///run/crio/crio.sock unix:///var/run/cri-dockerd.sock]. As the default settings are now deprecated, you should set the endpoint instead.
docker.io/bitnami/zookeeper                3.9.0                 0b6efe637ac89       281MB
quilradmin@ip-10-71-12-87:~$ ls -lhd zookeeper-bundle.tar.gz
-rw-rw-r-- 1 quilradmin quilradmin 267M Sep 17 07:11 zookeeper-bundle.tar.gz
quilradmin@ip-10-71-12-87:~$ sudo crictl images | grep -i kafka
WARN[0000] Config "/etc/crictl.yaml" does not exist, trying next: "/usr/bin/crictl.yaml"
WARN[0000] Image connect using default endpoints: [unix:///run/containerd/containerd.sock unix:///run/crio/crio.sock unix:///var/run/cri-dockerd.sock]. As the default settings are now deprecated, you should set the endpoint instead.
docker.io/bitnami/kafka                    3.5.1                 f79889e4e4af4       352MB
docker.io/provectuslabs/kafka-ui           latest                99307ab28a49d       154MB
quilradmin@ip-10-71-12-87:~$ ls -lhd kafka-bundle.tar.gz
-rw-rw-r-- 1 quilradmin quilradmin 335M Sep 17 07:28 kafka-bundle.tar.gz
quilradmin@ip-10-71-12-87:~$


sudo mkdir -p ~/kafkaui
sudo chown -R quilradmin:quilradmin ~/kafkaui

cp ~/kafkaui.yaml ~/kafkaui
./kafkaui-bundle.sh

creates image.tar and tgz.gz of helm charts
 ./install-kafkaui.sh
>>> Extracting bundle...and importing kafkaui image, applying the yaml
